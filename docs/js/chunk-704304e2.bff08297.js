(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-704304e2"],{"038b":function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticStyle:{padding:"16px"}},[e("div",{staticClass:"card"},[e("v-card-text",[e("div",{staticClass:"text-h5 text--primary"},[t._v(" 材料仓库 "),e("v-btn",{staticStyle:{float:"right"},attrs:{color:"primary",elevation:"2"},on:{click:t.save}},[e("v-icon",[t._v("mdi-content-save-outline")]),t._v("保存")],1)],1),e("div",{staticStyle:{"margin-top":"8px"}},[t._v("点击材料图标可输入数量和查看更多选项")])])],1),e("div",{staticClass:"d-flex justify-space-around flex-wrap"},t._l(t.user_mtls,(function(i,s){return e("v-card",{key:s,staticClass:"item",class:["t"+t.data.item[s].rarity,"order-"+(4-t.data.item[s].rarity)],attrs:{elevation:"3"}},[e("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(i){var a=i.on,n=i.attrs;return[e("img",t._g(t._b({attrs:{src:"/assets/items/"+t.data.item[s].icon+".png",height:"80",width:"80"}},"img",n,!1),a))]}}],null,!0)},[e("v-list",{attrs:{dense:""}},[e("v-list-item",{attrs:{link:""}},[e("v-list-item-title",{on:{click:function(i){return t.openEdit(s)}}},[t._v("输入数量")])],1),e("v-list-item",{attrs:{link:""}},[e("v-list-item-title",{on:{click:function(i){return t.openForm(s)}}},[t._v("合成")])],1)],1)],1),e("div",{staticClass:"text-center"},[t._v(t._s(t.data.item[s].name))]),e("div",{staticClass:"d-flex justify-space-between"},[e("v-btn",{attrs:{elevation:"2",icon:"",small:""},on:{click:function(i){return t.add(s,-1)}}},[e("v-icon",[t._v("mdi-minus")])],1),e("span",{staticStyle:{"line-height":"24px"}},[t._v(t._s(i))]),e("v-btn",{attrs:{elevation:"2",icon:"",small:""},on:{click:function(i){return t.add(s,1)}}},[e("v-icon",[t._v("mdi-plus")])],1)],1)],1)})),1),e("v-dialog",{attrs:{width:"400"},model:{value:t.edit.show,callback:function(i){t.$set(t.edit,"show",i)},expression:"edit.show"}},[e("v-card",[e("v-card-title",{staticClass:"text-h6 lighten-2"},[t._v(" "+t._s(t.data.item[t.edit.id].name)+" ")]),e("v-card-text",[e("v-text-field",{attrs:{label:"数量",filled:"",dense:"",type:"number"},model:{value:t.edit.num,callback:function(i){t.$set(t.edit,"num",t._n(i))},expression:"edit.num"}})],1),e("v-divider"),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{text:""},on:{click:function(i){t.edit.show=!1}}},[t._v(" 取消 ")]),e("v-btn",{attrs:{color:"primary",text:""},on:{click:t.applyEdit}},[t._v(" 确认 ")])],1)],1)],1),e("v-dialog",{attrs:{width:"400"},model:{value:t.form.show,callback:function(i){t.$set(t.form,"show",i)},expression:"form.show"}},[e("v-card",[e("v-card-title",{staticClass:"text-h6 lighten-2"},[t._v(" 合成"+t._s(t.data.item[t.form.id].name)+" ")]),e("v-card-text",[e("div",{staticStyle:{"margin-bottom":"16px"}},[e("span",[t._v("合成"+t._s(t.data.item[t.form.id].name)+" x "+t._s(t.form.formula.count)+"需要：")]),e("br"),e("span",[t._v("龙门币 x "+t._s(t.form.formula.goldCost))]),e("br"),t._l(t.form.formula.costs,(function(i,s){return[e("span",{key:s},[t._v(t._s(t.data.item[i.id].name)+" x "+t._s(i.count))]),e("br",{key:s+"br"})]}))],2),e("v-toolbar",{attrs:{dense:""}},[e("v-container",{staticStyle:{padding:"0"}},[e("v-row",[e("v-col",{staticClass:"col"},[e("v-btn",{staticStyle:{height:"48px"},attrs:{text:""},on:{click:function(i){return t.formAdd(-2)}}},[t._v("最少")])],1),e("v-col",{staticClass:"col"},[e("v-btn",{attrs:{icon:""},on:{click:function(i){return t.formAdd(-1)}}},[e("v-icon",[t._v("mdi-chevron-left")])],1)],1),e("v-col",{staticClass:"col"},[e("div",{staticStyle:{"line-height":"48px","text-align":"center"}},[t._v(" "+t._s(t.form.num)+" ")])]),e("v-col",{staticClass:"col"},[e("v-btn",{attrs:{icon:""},on:{click:function(i){return t.formAdd(1)}}},[e("v-icon",[t._v("mdi-chevron-right")])],1)],1),e("v-col",{staticClass:"col"},[e("v-btn",{staticStyle:{height:"48px"},attrs:{text:""},on:{click:function(i){return t.formAdd(2)}}},[t._v("最多")])],1)],1)],1)],1),e("div",[t._v("此处“最多”不考虑下位材料合成，与游戏中相同")]),e("v-switch",{attrs:{label:"下位材料不足时自动合成"},model:{value:t.form.sub,callback:function(i){t.$set(t.form,"sub",i)},expression:"form.sub"}})],1),e("v-divider"),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{text:""},on:{click:function(i){t.form.show=!1}}},[t._v(" 取消 ")]),e("v-btn",{attrs:{color:"primary",text:""},on:{click:t.applyForm}},[t._v(" 确认 ")])],1)],1)],1)],1)},a=[],n=e("b85c"),o=(e("4c53"),e("f601")),r=window.localStorage,l={data:function(){return{data:o["a"],user_mtls:JSON.parse(r.user_mtls),edit:{show:!1,id:30011,num:0},form:{show:!1,formula:{},id:30011,num:0,sub:!1}}},methods:{add:function(t,i){0===this.user_mtls[t]&&-1==i||(this.user_mtls[t]+=i)},save:function(){r.user_mtls=JSON.stringify(this.user_mtls),window.mdui.snackbar({message:"已保存"})},openEdit:function(t){this.edit.id=t,this.edit.num=this.user_mtls[t],this.edit.show=!0},applyEdit:function(){var t=this.edit.num;t>=0&&(this.user_mtls[this.edit.id]=Math.floor(t)),this.edit.show=!1},openForm:function(t){o["a"].item[t].formula?(this.form.id=t,this.form.formula=o["a"].formula[o["a"].item[t].formula],this.form.num=0,this.form.sub=!1,this.form.show=!0):window.mdui.snackbar({message:"该材料无法合成"})},applyForm:function(){this.form.show=!1},formAdd:function(t){if(-2===t)this.form.num=0;else if(-1===t)this.form.num>0&&this.form.num--;else if(1===t)this.form.num++;else if(2===t){var i,e=1/0,s=Object(n["a"])(this.form.formula.costs);try{for(s.s();!(i=s.n()).done;){var a=i.value;e=Math.min(e,Math.floor(this.user_mtls[a.id]/a.count))}}catch(o){s.e(o)}finally{s.f()}this.form.num=e}}}},c=l,u=(e("c01e"),e("2877")),h=e("6544"),d=e.n(h),v=e("8336"),m=e("b0af"),f=e("99d9"),p=e("62ad"),b=e("a523"),g=e("169a"),_=e("ce7e"),w=e("132d"),y=e("8860"),C=e("da13"),k=e("5d23"),x=e("e449"),V=e("0fd9"),S=e("2fa4"),A=e("15fd"),$=e("5530"),j=(e("0481"),e("ec29"),e("9d01"),e("d3b7"),e("25f0"),e("4de4"),e("c37a")),O=e("5607"),D=e("2b0e"),E=D["a"].extend({name:"rippleable",directives:{ripple:O["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.ripple?(t.staticClass="v-input--selection-controls__ripple",t.directives=t.directives||[],t.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",t)):null}}}),B=e("8547"),F=e("58df");function I(t){t.preventDefault()}var L=Object(F["a"])(j["a"],E,B["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data:function(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor:function(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple:function(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive:function(){var t=this,i=this.value,e=this.internalValue;return this.isMultiple?!!Array.isArray(e)&&e.some((function(e){return t.valueComparator(e,i)})):void 0===this.trueValue||void 0===this.falseValue?i?this.valueComparator(i,e):Boolean(e):this.valueComparator(e,this.trueValue)},isDirty:function(){return this.isActive},rippleState:function(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue:function(t){this.lazyValue=t,this.hasColor=t}},methods:{genLabel:function(){var t=j["a"].options.methods.genLabel.call(this);return t?(t.data.on={click:I},t):t},genInput:function(t,i){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:t,type:t},i),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:I},ref:"input"})},onBlur:function(){this.isFocused=!1},onClick:function(t){this.onChange(),this.$emit("click",t)},onChange:function(){var t=this;if(this.isInteractive){var i=this.value,e=this.internalValue;if(this.isMultiple){Array.isArray(e)||(e=[]);var s=e.length;e=e.filter((function(e){return!t.valueComparator(e,i)})),e.length===s&&e.push(i)}else e=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(e,this.trueValue)?this.falseValue:this.trueValue:i?this.valueComparator(e,i)?null:i:!e;this.validate(!0,e),this.internalValue=e,this.hasColor=e}},onFocus:function(){this.isFocused=!0},onKeydown:function(t){}}}),T=e("c3f0"),M=e("0789"),R=e("490a"),J=e("80d2"),z=["title"],K=L.extend({name:"v-switch",directives:{Touch:T["a"]},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes:function(){return Object($["a"])(Object($["a"])({},j["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset})},attrs:function(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState:function(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData:function(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot:function(){return[this.genSwitch(),this.genLabel()]},genSwitch:function(){var t=this.attrs$,i=(t.title,Object(A["a"])(t,z));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",Object($["a"])(Object($["a"])({},this.attrs),i)),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",Object($["a"])({staticClass:"v-input--switch__track"},this.switchData)),this.$createElement("div",Object($["a"])({staticClass:"v-input--switch__thumb"},this.switchData),[this.genProgress()])])},genProgress:function(){return this.$createElement(M["c"],{},[!1===this.loading?null:this.$slots.progress||this.$createElement(R["a"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft:function(){this.isActive&&this.onChange()},onSwipeRight:function(){this.isActive||this.onChange()},onKeydown:function(t){(t.keyCode===J["r"].left&&this.isActive||t.keyCode===J["r"].right&&!this.isActive)&&this.onChange()}}}),P=e("8654"),N=e("71d9"),q=Object(u["a"])(c,s,a,!1,null,"22abd8e5",null);i["default"]=q.exports;d()(q,{VBtn:v["a"],VCard:m["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:f["c"],VCol:p["a"],VContainer:b["a"],VDialog:g["a"],VDivider:_["a"],VIcon:w["a"],VList:y["a"],VListItem:C["a"],VListItemTitle:k["c"],VMenu:x["a"],VRow:V["a"],VSpacer:S["a"],VSwitch:K,VTextField:P["a"],VToolbar:N["a"]})},"4c53":function(t,i,e){"use strict";var s=e("23e7"),a=e("857a"),n=e("af03");s({target:"String",proto:!0,forced:n("sub")},{sub:function(){return a(this,"sub","","")}})},"9d01":function(t,i,e){},c01e:function(t,i,e){"use strict";e("ea05")},ea05:function(t,i,e){},ec29:function(t,i,e){}}]);
//# sourceMappingURL=chunk-704304e2.bff08297.js.map