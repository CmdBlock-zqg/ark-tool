(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7eea750c"],{2209:function(t,e,i){"use strict";i("f643")},"269a":function(t,e){t.exports=function(t,e){var i="function"===typeof t.exports?t.exports.extendOptions:t.options;for(var l in"function"===typeof t.exports&&(i.directives=t.exports.options.directives),i.directives=i.directives||{},e)i.directives[l]=i.directives[l]||e[l]}},"3ec1":function(t,e,i){"use strict";i("d210")},"7cdd":function(t,e,i){"use strict";i.r(e);var l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{padding:"16px"}},[i("div",{staticClass:"card"},[i("v-card-text",[i("div",{staticClass:"text-h5 text--primary"},[t._v(" 我的干员 "),i("v-dialog",{attrs:{width:"400"},scopedSlots:t._u([{key:"activator",fn:function(e){var l=e.on,a=e.attrs;return[i("v-btn",t._g(t._b({staticStyle:{float:"right"},attrs:{color:"primary",elevation:"2"}},"v-btn",a,!1),l),[i("v-icon",[t._v("mdi-plus")]),t._v("添加")],1)]}}]),model:{value:t.addDialog.show,callback:function(e){t.$set(t.addDialog,"show",e)},expression:"addDialog.show"}},[i("v-card",[i("v-card-title",[t._v(" 添加干员 ")]),i("v-card-text",[i("v-autocomplete",{attrs:{"auto-select-first":"",clearable:"",label:"输入干员名字",items:t.addDialog.opList},model:{value:t.addDialog.input,callback:function(e){t.$set(t.addDialog,"input",e)},expression:"addDialog.input"}})],1),i("v-divider"),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"primary",text:""},on:{click:t.addOp}},[t._v(" 确定 ")])],1)],1)],1)],1)])],1),i("v-dialog",{attrs:{width:"400"},model:{value:t.delDialog.show,callback:function(e){t.$set(t.delDialog,"show",e)},expression:"delDialog.show"}},[i("v-card",[i("v-card-title",[t._v(" 确认删除？ ")]),i("v-divider"),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{text:""},on:{click:function(e){t.delDialog.show=!1}}},[t._v(" 取消 ")]),i("v-btn",{attrs:{color:"primary",text:""},on:{click:t.delOp}},[t._v(" 确定 ")])],1)],1)],1),t._l(t.user_ops,(function(e,l){return i("v-card",{key:l,staticClass:"card",staticStyle:{float:"left",width:"320px"},attrs:{elevation:"7"}},[i("div",{staticStyle:{height:"80px"}},[i("img",{staticStyle:{float:"left"},attrs:{src:"/assets/avatars/"+e.id+".png",height:"80",width:"80"}}),i("div",{staticStyle:{height:"80px",float:"left",padding:"16px"}},[i("span",{staticStyle:{"font-size":"20px"}},[t._v(t._s(e.name))]),i("br"),i("img",{attrs:{src:"/assets/common/rarity_"+e.rarity+".png"}})]),i("v-btn",{staticStyle:{float:"right","margin-top":"16px"},attrs:{color:"error"},on:{click:function(i){t.delDialog.id=e.id,t.delDialog.show=!0}}},[i("v-icon",[t._v("mdi-delete-outline")]),t._v(" 删除 ")],1)],1),i("v-divider"),i("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticStyle:{height:"80px",padding:"8px"},on:{click:function(e){return t.editOp(l,"cur")}}},[i("div",{staticStyle:{height:"80px",float:"left"}},[i("span",[t._v("当前练度")]),i("br"),i("img",{staticStyle:{float:"left"},attrs:{height:"40",src:"/assets/common/elite_"+e.cur.evolve+".png"}}),i("div",{staticStyle:{height:"40px","line-height":"50px",float:"left","font-size":"24px"}},[t._v(" "+t._s(e.cur.level)+" ")])]),t._l(t.data.character[l].skills,(function(l,a){return i("div",{key:l.skillId,staticStyle:{height:"80px",float:"left","margin-left":"8px","padding-top":"12px"}},[i("img",{attrs:{src:"/assets/skills/skill_icon_"+l.skillId+".png",height:"56",width:"56"}}),i("div",{staticClass:"rank"},[t._v(" "+t._s(e.cur.allSkills+e.cur.skills[a])+" ")])])}))],2),i("v-divider"),i("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticStyle:{height:"80px",padding:"8px"},on:{click:function(e){return t.editOp(l,"aim")}}},[i("div",{staticStyle:{height:"80px",float:"left"}},[i("span",[t._v("目标练度")]),i("br"),i("img",{staticStyle:{float:"left"},attrs:{height:"40",src:"/assets/common/elite_"+e.aim.evolve+".png"}}),i("div",{staticStyle:{height:"40px","line-height":"50px",float:"left","font-size":"24px"}},[t._v(" "+t._s(e.aim.level)+" ")])]),t._l(t.data.character[l].skills,(function(l,a){return i("div",{key:l.skillId,staticStyle:{height:"80px",float:"left","margin-left":"8px","padding-top":"12px"}},[i("img",{attrs:{src:"/assets/skills/skill_icon_"+l.skillId+".png",height:"56",width:"56"}}),i("div",{staticClass:"rank"},[t._v(" "+t._s(e.aim.allSkills+e.aim.skills[a])+" ")])])}))],2)],1)})),i("v-dialog",{attrs:{width:"400"},model:{value:t.edit.show,callback:function(e){t.$set(t.edit,"show",e)},expression:"edit.show"}},[i("v-card",[i("v-card-title",{staticClass:"text-h6 lighten-2"},[t._v(" 修改"+t._s(t.edit.name+("cur"===t.edit.type?"当前":"目标"))+"练度 ")]),i("v-card-text",[i("number-selecter",{attrs:{title:"精英化等级",min:0,max:t.edit.rarity>3?2:t.edit.rarity>2?1:0},model:{value:t.edit.evolve,callback:function(e){t.$set(t.edit,"evolve",e)},expression:"edit.evolve"}}),i("number-selecter",{attrs:{plus:"",title:"等级",min:1,max:t.data.common.maxLevel[t.edit.rarity][t.edit.evolve]},model:{value:t.edit.level,callback:function(e){t.$set(t.edit,"level",e)},expression:"edit.level"}}),i("number-selecter",{directives:[{name:"show",rawName:"v-show",value:t.edit.rarity>2,expression:"edit.rarity > 2"}],attrs:{title:"通用技能等级",min:1,max:t.edit.evolve>0?7:4},model:{value:t.edit.allSkills,callback:function(e){t.$set(t.edit,"allSkills",e)},expression:"edit.allSkills"}}),i("number-selecter",{directives:[{name:"show",rawName:"v-show",value:t.edit.rarity>3&&7===t.edit.allSkills&&2===t.edit.evolve,expression:"edit.rarity > 3 && edit.allSkills === 7 && edit.evolve === 2"}],attrs:{title:"一技能专精等级",min:0,max:7===t.edit.allSkills&&2===t.edit.evolve?3:0},model:{value:t.edit.skills[0],callback:function(e){t.$set(t.edit.skills,0,e)},expression:"edit.skills[0]"}}),i("number-selecter",{directives:[{name:"show",rawName:"v-show",value:t.edit.rarity>3&&7===t.edit.allSkills&&2===t.edit.evolve,expression:"edit.rarity > 3 && edit.allSkills === 7 && edit.evolve === 2"}],attrs:{title:"二技能专精等级",min:0,max:7===t.edit.allSkills&&2===t.edit.evolve?3:0},model:{value:t.edit.skills[1],callback:function(e){t.$set(t.edit.skills,1,e)},expression:"edit.skills[1]"}}),i("number-selecter",{directives:[{name:"show",rawName:"v-show",value:t.edit.rarity>5&&7===t.edit.allSkills&&2===t.edit.evolve,expression:"edit.rarity > 5 && edit.allSkills === 7 && edit.evolve === 2"}],attrs:{title:"三技能专精等级",min:0,max:7===t.edit.allSkills&&2===t.edit.evolve?3:0},model:{value:t.edit.skills[2],callback:function(e){t.$set(t.edit.skills,2,e)},expression:"edit.skills[2]"}})],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{text:""},on:{click:function(e){t.edit.show=!1}}},[t._v(" 取消 ")]),i("v-btn",{attrs:{color:"primary",text:""},on:{click:t.applyEdit}},[t._v(" 确定 ")])],1)],1)],1)],2)},a=[],s=i("b85c"),o=(i("b64b"),i("ac1f"),i("841c"),i("b0c0"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[t._v(t._s(t.title))]),i("v-toolbar",{attrs:{dense:""}},[i("v-container",[i("v-row",[t.plus?i("v-col",{staticClass:"col"},[i("v-btn",{attrs:{icon:""},on:{click:function(e){return t.add(-10)}}},[i("v-icon",[t._v("mdi-chevron-double-left")])],1)],1):t._e(),i("v-col",{staticClass:"col"},[i("v-btn",{attrs:{icon:""},on:{click:function(e){return t.add(-1)}}},[i("v-icon",[t._v("mdi-chevron-left")])],1)],1),i("v-col",{staticClass:"col"},[i("div",{staticStyle:{"line-height":"48px","text-align":"center"}},[t._v(" "+t._s(t.value)+" ")])]),i("v-col",{staticClass:"col"},[i("v-btn",{attrs:{icon:""},on:{click:function(e){return t.add(1)}}},[i("v-icon",[t._v("mdi-chevron-right")])],1)],1),t.plus?i("v-col",{staticClass:"col"},[i("v-btn",{attrs:{icon:""},on:{click:function(e){return t.add(10)}}},[i("v-icon",[t._v("mdi-chevron-double-right")])],1)],1):t._e()],1)],1)],1)],1)}),r=[],c=(i("a9e3"),{data:function(){return{}},props:{plus:Boolean,title:String,value:Number,min:Number,max:Number},methods:{add:function(t){if(this.value===this.min&&t<0)this.$emit("input",this.max);else if(this.value===this.max&&t>0)this.$emit("input",this.min);else{var e=this.value+t;e>this.max?this.$emit("input",this.max):e<this.min?this.$emit("input",this.min):this.$emit("input",e)}}},watch:{min:function(t){this.value<t&&this.$emit("input",t)},max:function(t){this.value>t&&this.$emit("input",t)}}}),n=c,d=(i("3ec1"),i("2877")),v=i("6544"),u=i.n(v),p=i("8336"),h=i("62ad"),m=i("a523"),f=i("132d"),k=i("0fd9"),x=i("71d9"),g=Object(d["a"])(n,o,r,!1,null,"4bb43bfb",null),y=g.exports;u()(g,{VBtn:p["a"],VCol:h["a"],VContainer:m["a"],VIcon:f["a"],VRow:k["a"],VToolbar:x["a"]});var _=i("f601"),b=window.localStorage,S={components:{NumberSelecter:y},data:function(){return{user_ops:JSON.parse(b.user_ops),data:_["a"],addDialog:{show:!1,input:"",opList:Object.keys(_["a"].search)},delDialog:{id:"",show:!1},edit:{show:!1,id:"",name:"",rarity:0,type:"",evolve:0,level:1,allSkills:1,skills:[0,0,0]}}},methods:{addOp:function(){if(this.addDialog.show=!1,this.addDialog.input){var t=_["a"].search[this.addDialog.input];if(this.user_ops[t])window.mdui.snackbar({message:"干员已存在"});else{var e=this.data.character[t];this.user_ops[t]={id:t,name:e.name,rarity:e.rarity,cur:{evolve:0,level:1,allSkills:1,skills:[0,0,0]},aim:{evolve:0,level:1,allSkills:1,skills:[0,0,0]},costs:{}},b.user_ops=JSON.stringify(this.user_ops)}}},delOp:function(){this.delDialog.show=!1,delete this.user_ops[this.delDialog.id],b.user_ops=JSON.stringify(this.user_ops)},editOp:function(t,e){var i=this.data.character[t],l=this.user_ops[t];this.edit.id=t,this.edit.name=i.name,this.edit.rarity=i.rarity,this.edit.type=e,this.edit.evolve=l[e].evolve,this.edit.level=l[e].level,this.edit.allSkills=l[e].allSkills,this.edit.skills[0]=l[e].skills[0],this.edit.skills[1]=l[e].skills[1],this.edit.skills[2]=l[e].skills[2],this.edit.show=!0},applyEdit:function(){this.user_ops[this.edit.id][this.edit.type].level=this.edit.level,this.user_ops[this.edit.id][this.edit.type].evolve=this.edit.evolve,this.user_ops[this.edit.id][this.edit.type].allSkills=this.edit.allSkills,this.user_ops[this.edit.id][this.edit.type].skills[0]=this.edit.skills[0],this.user_ops[this.edit.id][this.edit.type].skills[1]=this.edit.skills[1],this.user_ops[this.edit.id][this.edit.type].skills[2]=this.edit.skills[2],this.user_ops[this.edit.id].costs=this.updateCost(JSON.parse(JSON.stringify(this.user_ops[this.edit.id]))),b.user_ops=JSON.stringify(this.user_ops),this.edit.show=!1},updateCost:function(t){for(var e=_["a"].character[t.id],i={4001:0,0:0},l=t.cur.evolve;l<t.aim.evolve;l++){i[4001]?i[4001]+=_["a"].common.upgradeCost[l][_["a"].common.maxLevel[t.rarity][l]]-_["a"].common.upgradeCost[l][t.cur.level]:i[4001]=_["a"].common.upgradeCost[l][_["a"].common.maxLevel[t.rarity][l]]-_["a"].common.upgradeCost[l][t.cur.level],i[0]?i[0]+=_["a"].common.characterExp[l][_["a"].common.maxLevel[t.rarity][l]]-_["a"].common.characterExp[l][t.cur.level]:i[0]=_["a"].common.characterExp[l][_["a"].common.maxLevel[t.rarity][l]]-_["a"].common.characterExp[l][t.cur.level];var a,o=Object(s["a"])(e.evolveCost[l]);try{for(o.s();!(a=o.n()).done;){var r=a.value;i[r.id]?i[r.id]+=r.count:i[r.id]=r.count}}catch(k){o.e(k)}finally{o.f()}i[4001]?i[4001]+=_["a"].common.evolveCost[t.rarity][l]:i[4001]=_["a"].common.evolveCost[t.rarity][l],t.cur.evolve+=1,t.cur.level=1}i[4001]?i[4001]+=_["a"].common.upgradeCost[t.aim.evolve][t.aim.level]-_["a"].common.upgradeCost[t.aim.evolve][t.cur.level]:i[4001]=_["a"].common.upgradeCost[t.aim.evolve][t.aim.level]-_["a"].common.upgradeCost[t.aim.evolve][t.cur.level],i[0]?i[0]+=_["a"].common.characterExp[t.aim.evolve][t.aim.level]-_["a"].common.characterExp[t.aim.evolve][t.cur.level]:i[0]=_["a"].common.characterExp[t.aim.evolve][t.aim.level]-_["a"].common.characterExp[t.aim.evolve][t.cur.level];for(var c=t.cur.allSkills-1;c<t.aim.allSkills-1;c++){var n,d=Object(s["a"])(e.allSkillLvlup[c]);try{for(d.s();!(n=d.n()).done;){var v=n.value;i[v.id]?i[v.id]+=v.count:i[v.id]=v.count}}catch(k){d.e(k)}finally{d.f()}}for(var u=0;u<3;u++)for(var p=t.cur.skills[u];p<t.aim.skills[u];p++){var h,m=Object(s["a"])(e.skills[u].levelUpCost[p]);try{for(m.s();!(h=m.n()).done;){var f=h.value;i[f.id]?i[f.id]+=f.count:i[f.id]=f.count}}catch(k){m.e(k)}finally{m.f()}}return i}}},w=S,C=(i("2209"),i("c6a6")),D=i("b0af"),O=i("99d9"),$=i("169a"),N=i("ce7e"),V=i("2fa4"),E=i("269a"),J=i.n(E),L=i("5607"),j=Object(d["a"])(w,l,a,!1,null,"61dbadec",null);e["default"]=j.exports;u()(j,{VAutocomplete:C["a"],VBtn:p["a"],VCard:D["a"],VCardActions:O["a"],VCardText:O["b"],VCardTitle:O["c"],VDialog:$["a"],VDivider:N["a"],VIcon:f["a"],VSpacer:V["a"]}),J()(j,{Ripple:L["a"]})},d210:function(t,e,i){},f643:function(t,e,i){}}]);
//# sourceMappingURL=chunk-7eea750c.bdd52786.js.map