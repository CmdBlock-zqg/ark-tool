{"version":3,"sources":["webpack:///./src/views/Ware.vue?1d4c","webpack:///src/views/Ware.vue","webpack:///./src/views/Ware.vue?0e2c","webpack:///./src/views/Ware.vue?ab7d","webpack:///./src/views/Ware.vue?6298"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","staticClass","_v","attrs","on","save","_l","v","k","key","class","data","item","rarity","scopedSlots","_u","fn","ref","_g","_b","$event","openEdit","openForm","_s","name","add","model","value","edit","callback","$$v","$set","expression","id","_n","show","applyEdit","form","formula","count","goldCost","formAdd","num","applyForm","staticRenderFns","LS","window","localStorage","user_mtls","JSON","parse","methods","t","stringify","mdui","snackbar","Math","floor","res","component","VBtn","VCard","VCardActions","VCardText","VCardTitle","VCol","VContainer","VDialog","VDivider","VIcon","VList","VListItem","VListItemTitle","VMenu","VRow","VSpacer","VTextField","VToolbar"],"mappings":"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","file":"js/chunk-69ac1cce.0f6cc11d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"padding\":\"16px\"}},[_c('div',{staticClass:\"card\"},[_c('v-card-text',[_c('div',{staticClass:\"text-h5 text--primary\"},[_vm._v(\" 材料仓库 \"),_c('v-btn',{staticStyle:{\"float\":\"right\"},attrs:{\"color\":\"primary\",\"elevation\":\"2\"},on:{\"click\":_vm.save}},[_c('v-icon',[_vm._v(\"mdi-content-save-outline\")]),_vm._v(\"保存\")],1)],1),_c('div',{staticStyle:{\"margin-top\":\"8px\"}},[_vm._v(\"点击材料图标可查看更多选项\")])])],1),_c('div',{staticClass:\"d-flex justify-space-around flex-wrap\"},_vm._l((_vm.user_mtls),function(v,k){return _c('v-card',{key:k,staticClass:\"item\",class:[(\"t\" + (_vm.data.item[k].rarity)), (\"order-\" + (4 - _vm.data.item[k].rarity))],attrs:{\"elevation\":\"3\"}},[_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('img',_vm._g(_vm._b({attrs:{\"src\":(\"/assets/items/\" + (_vm.data.item[k].icon) + \".png\"),\"height\":\"80\",\"width\":\"80\"}},'img',attrs,false),on))]}}],null,true)},[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-list-item',{attrs:{\"link\":\"\"},on:{\"click\":function($event){return _vm.openEdit(k)}}},[_c('v-list-item-title',[_vm._v(\"输入数量\")])],1),_c('v-list-item',{attrs:{\"link\":\"\"},on:{\"click\":function($event){return _vm.openForm(k)}}},[_c('v-list-item-title',[_vm._v(\"合成\")])],1)],1)],1),_c('div',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.data.item[k].name))]),_c('div',{staticClass:\"d-flex justify-space-between\"},[_c('v-btn',{attrs:{\"elevation\":\"2\",\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.add(k, -1)}}},[_c('v-icon',[_vm._v(\"mdi-minus\")])],1),_c('span',{staticStyle:{\"line-height\":\"24px\"}},[_vm._v(_vm._s(v))]),_c('v-btn',{attrs:{\"elevation\":\"2\",\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.add(k, 1)}}},[_c('v-icon',[_vm._v(\"mdi-plus\")])],1)],1)],1)}),1),_c('v-dialog',{attrs:{\"width\":\"400\"},model:{value:(_vm.edit.show),callback:function ($$v) {_vm.$set(_vm.edit, \"show\", $$v)},expression:\"edit.show\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"text-h6 lighten-2\"},[_vm._v(\" \"+_vm._s(_vm.data.item[_vm.edit.id].name)+\" \")]),_c('v-card-text',[_c('v-text-field',{attrs:{\"label\":\"数量\",\"filled\":\"\",\"dense\":\"\",\"type\":\"number\"},model:{value:(_vm.edit.num),callback:function ($$v) {_vm.$set(_vm.edit, \"num\", _vm._n($$v))},expression:\"edit.num\"}})],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.edit.show = false}}},[_vm._v(\" 取消 \")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":_vm.applyEdit}},[_vm._v(\" 确认 \")])],1)],1)],1),_c('v-dialog',{attrs:{\"width\":\"400\"},model:{value:(_vm.form.show),callback:function ($$v) {_vm.$set(_vm.form, \"show\", $$v)},expression:\"form.show\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"text-h6 lighten-2\"},[_vm._v(\" 合成\"+_vm._s(_vm.data.item[_vm.form.id].name)+\" \")]),_c('v-card-text',[_c('div',{staticStyle:{\"margin-bottom\":\"16px\"}},[_c('span',[_vm._v(\"合成\"+_vm._s(_vm.data.item[_vm.form.id].name)+\" x \"+_vm._s(_vm.form.formula.count)+\"需要：\")]),_c('br'),_c('span',[_vm._v(\"龙门币 x \"+_vm._s(_vm.form.formula.goldCost))]),_c('br'),_vm._l((_vm.form.formula.costs),function(v,k){return [_c('span',{key:k},[_vm._v(_vm._s(_vm.data.item[v.id].name)+\" x \"+_vm._s(v.count))]),_c('br',{key:k + 'br'})]})],2),_c('v-toolbar',{attrs:{\"dense\":\"\"}},[_c('v-container',{staticStyle:{\"padding\":\"0\"}},[_c('v-row',[_c('v-col',{staticClass:\"col\"},[_c('v-btn',{staticStyle:{\"height\":\"48px\"},attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.formAdd(-2)}}},[_vm._v(\"最少\")])],1),_c('v-col',{staticClass:\"col\"},[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.formAdd(-1)}}},[_c('v-icon',[_vm._v(\"mdi-chevron-left\")])],1)],1),_c('v-col',{staticClass:\"col\"},[_c('div',{staticStyle:{\"line-height\":\"48px\",\"text-align\":\"center\"}},[_vm._v(\" \"+_vm._s(_vm.form.num)+\" \")])]),_c('v-col',{staticClass:\"col\"},[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.formAdd(1)}}},[_c('v-icon',[_vm._v(\"mdi-chevron-right\")])],1)],1),_c('v-col',{staticClass:\"col\"},[_c('v-btn',{staticStyle:{\"height\":\"48px\"},attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.formAdd(2)}}},[_vm._v(\"最多\")])],1)],1)],1)],1)],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.form.show = false}}},[_vm._v(\" 取消 \")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":_vm.applyForm}},[_vm._v(\" 确认 \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div style=\"padding: 16px;\">\r\n    <div class=\"card\">\r\n      <v-card-text>\r\n        <div class=\"text-h5 text--primary\">\r\n          材料仓库\r\n          <v-btn\r\n            color=\"primary\"\r\n            elevation=\"2\"\r\n            style=\"float: right;\"\r\n            @click=\"save\"\r\n          ><v-icon>mdi-content-save-outline</v-icon>保存</v-btn>\r\n        </div>\r\n        <div style=\"margin-top: 8px;\">点击材料图标可查看更多选项</div>\r\n      </v-card-text>\r\n    </div>\r\n\r\n    <div class=\"d-flex justify-space-around flex-wrap\">\r\n      <v-card class=\"item\" :class=\"[`t${data.item[k].rarity}`, `order-${4 - data.item[k].rarity}`]\" elevation=\"3\" v-for=\"(v, k) in user_mtls\" :key=\"k\">\r\n        <v-menu offset-y>\r\n          <template v-slot:activator=\"{ on, attrs }\">\r\n            <img\r\n              :src=\"`/assets/items/${data.item[k].icon}.png`\"\r\n              height=\"80\" width=\"80\"\r\n              v-bind=\"attrs\"\r\n              v-on=\"on\"\r\n            >\r\n          </template>\r\n          <v-list dense>\r\n            <v-list-item link @click=\"openEdit(k)\">\r\n              <v-list-item-title>输入数量</v-list-item-title>\r\n            </v-list-item>\r\n            <v-list-item link @click=\"openForm(k)\">\r\n              <v-list-item-title>合成</v-list-item-title>\r\n            </v-list-item>\r\n          </v-list>\r\n        </v-menu>\r\n        <div class=\"text-center\">{{ data.item[k].name }}</div>\r\n        <div class=\"d-flex justify-space-between\">\r\n          <v-btn\r\n            elevation=\"2\"\r\n            icon\r\n            small\r\n            @click=\"add(k, -1)\"\r\n          ><v-icon>mdi-minus</v-icon></v-btn>\r\n          <span style=\"line-height: 24px;\">{{ v }}</span>\r\n          <v-btn\r\n            elevation=\"2\"\r\n            icon\r\n            small\r\n            @click=\"add(k, 1)\"\r\n          ><v-icon>mdi-plus</v-icon></v-btn>\r\n        </div>\r\n      </v-card>\r\n    </div>\r\n\r\n    <v-dialog v-model=\"edit.show\" width=\"400\">\r\n      <v-card>\r\n        <v-card-title class=\"text-h6 lighten-2\">\r\n          {{ data.item[edit.id].name }}\r\n        </v-card-title>\r\n\r\n        <v-card-text>\r\n          <v-text-field\r\n            label=\"数量\"\r\n            filled\r\n            dense\r\n            v-model.number=\"edit.num\"\r\n            type=\"number\"\r\n          ></v-text-field>\r\n        </v-card-text>\r\n\r\n        <v-divider></v-divider>\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn\r\n            text\r\n            @click=\"edit.show = false\"\r\n          >\r\n            取消\r\n          </v-btn>\r\n          <v-btn\r\n            color=\"primary\"\r\n            text\r\n            @click=\"applyEdit\"\r\n          >\r\n            确认\r\n          </v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n\r\n    <v-dialog v-model=\"form.show\" width=\"400\">\r\n      <v-card>\r\n        <v-card-title class=\"text-h6 lighten-2\">\r\n          合成{{ data.item[form.id].name }}\r\n        </v-card-title>\r\n\r\n        <v-card-text>\r\n          <div style=\"margin-bottom: 16px;\">\r\n            <span>合成{{ data.item[form.id].name }} x {{ form.formula.count }}需要：</span><br>\r\n            <span>龙门币 x {{ form.formula.goldCost }}</span><br>\r\n            <template v-for=\"(v, k) in form.formula.costs\">\r\n              <span :key=\"k\">{{ data.item[v.id].name }} x {{ v.count }}</span>\r\n              <br :key=\"k + 'br'\">\r\n            </template>\r\n          </div>\r\n          <v-toolbar dense>\r\n            <v-container style=\"padding: 0\">\r\n              <v-row>\r\n                <v-col class=\"col\"><v-btn text style=\"height: 48px;\" @click=\"formAdd(-2)\">最少</v-btn></v-col>\r\n                <v-col class=\"col\"><v-btn icon @click=\"formAdd(-1)\"><v-icon>mdi-chevron-left</v-icon></v-btn></v-col>\r\n                <v-col class=\"col\">\r\n                  <div style=\"line-height: 48px; text-align: center; font-size=28px;\">\r\n                    {{ form.num }}\r\n                  </div>\r\n                </v-col>\r\n                <v-col class=\"col\"><v-btn icon @click=\"formAdd(1)\"><v-icon>mdi-chevron-right</v-icon></v-btn></v-col>\r\n                <v-col class=\"col\"><v-btn text style=\"height: 48px;\" @click=\"formAdd(2)\">最多</v-btn></v-col>\r\n              </v-row>\r\n            </v-container>\r\n          </v-toolbar>\r\n        </v-card-text>\r\n\r\n        <v-divider></v-divider>\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn\r\n            text\r\n            @click=\"form.show = false\"\r\n          >\r\n            取消\r\n          </v-btn>\r\n          <v-btn\r\n            color=\"primary\"\r\n            text\r\n            @click=\"applyForm\"\r\n          >\r\n            确认\r\n          </v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n  .card {\r\n    margin: 8px;\r\n    padding: 8px;\r\n  }\r\n  .item {\r\n    margin: 4px;\r\n    padding: 8px;\r\n  }\r\n  .t0 {\r\n    border-top: rgb(156, 156, 156) solid 3px;\r\n  }\r\n  .t1 {\r\n    border-top: rgb(179, 194, 49) solid 3px;\r\n  }\r\n  .t2 {\r\n    border-top: rgb(8,178,247) solid 3px;\r\n  }\r\n  .t3 {\r\n    border-top: rgb(209, 133, 214) solid 3px;\r\n  }\r\n  .t4 {\r\n    border-top: rgb(244,202,28) solid 3px;\r\n  }\r\n  .col {\r\n    padding-left: 0;\r\n    padding-right: 0;\r\n    text-align: center;\r\n    line-height: 48px;\r\n  }\r\n</style>\r\n\r\n<script>\r\n\r\nvar LS = window.localStorage\r\nimport data from '../data.js'\r\n\r\nexport default ({\r\n  data() {\r\n    return {\r\n      data: data,\r\n      user_mtls: JSON.parse(LS.user_mtls),\r\n\r\n      edit: {\r\n        show: false,\r\n        id: 30011,\r\n        num: 0\r\n      },\r\n\r\n      form: {\r\n        show: false,\r\n        formula: {},\r\n        id: 30011,\r\n        num: 0\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    add(k, t) {\r\n      if (this.user_mtls[k] === 0 && t == -1) return\r\n      this.user_mtls[k] += t\r\n    },\r\n    save() {\r\n      LS.user_mtls = JSON.stringify(this.user_mtls)\r\n      window.mdui.snackbar({ message: '已保存' })\r\n    },\r\n    openEdit(k) {\r\n      this.edit.id = k\r\n      this.edit.num = this.user_mtls[k]\r\n      this.edit.show = true\r\n    },\r\n    applyEdit() {\r\n      let v = this.edit.num\r\n      if (v >= 0) this.user_mtls[this.edit.id] = Math.floor(v)\r\n      this.edit.show = false\r\n    },\r\n    openForm(k) {\r\n      if (!data.item[k].formula) {\r\n        window.mdui.snackbar({ message: '该材料无法合成' })\r\n        return\r\n      }\r\n      this.form.id = k\r\n      this.form.formula = data.formula[data.item[k].formula]\r\n      this.form.num = 0\r\n      this.form.show = true\r\n    },\r\n    applyForm() {\r\n      this.form.show = false\r\n      let res = Infinity\r\n      for (let i of this.form.formula.costs) {\r\n        res = Math.min(res, Math.floor(this.user_mtls[i.id] / i.count))\r\n      }\r\n      if (this.form.num > res) {\r\n        window.mdui.snackbar({ message: '材料不足' })\r\n        return\r\n      }\r\n      for (let i of this.form.formula.costs) {\r\n        this.user_mtls[i.id] -= i.count * res\r\n      }\r\n      this.user_mtls[this.form.id] += this.form.formula.count * res\r\n    },\r\n    formAdd(k) {// -1, 1, -2, 2\r\n      if (k === -2) { // 最少\r\n        this.form.num = 0\r\n      } else if (k === -1) { // 减一\r\n        if (this.form.num > 0) this.form.num --\r\n      } else if (k === 1) { // 加一\r\n        let res = Infinity\r\n        for (let i of this.form.formula.costs) {\r\n          res = Math.min(res, Math.floor(this.user_mtls[i.id] / i.count))\r\n        }\r\n        if (this.form.num + 1 > res) return\r\n        this.form.num ++\r\n      } else if (k === 2) { // 最多\r\n        let res = Infinity\r\n        for (let i of this.form.formula.costs) {\r\n          res = Math.min(res, Math.floor(this.user_mtls[i.id] / i.count))\r\n        }\r\n        this.form.num = res\r\n      }\r\n    }\r\n  }\r\n})\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ware.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ware.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Ware.vue?vue&type=template&id=22bb069c&scoped=true&\"\nimport script from \"./Ware.vue?vue&type=script&lang=js&\"\nexport * from \"./Ware.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Ware.vue?vue&type=style&index=0&id=22bb069c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"22bb069c\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VContainer,VDialog,VDivider,VIcon,VList,VListItem,VListItemTitle,VMenu,VRow,VSpacer,VTextField,VToolbar})\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ware.vue?vue&type=style&index=0&id=22bb069c&scoped=true&lang=css&\""],"sourceRoot":""}